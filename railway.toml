# Railway Configuration for Stellar x402 Monorepo
#
# IMPORTANT: Both services must use Root Directory: . (repo root)
#
# Set Custom Start Command in Railway dashboard for each service:
#
# FACILITATOR service:
#   cd /app/packages/facilitator && node dist/index.js
#
# EXAMPLE SERVER service:
#   cd /app/examples/server-example && npx tsx src/index.ts

[build]
builder = "NIXPACKS"
buildCommand = "pnpm install && pnpm -r build"

[deploy]
# NOTE: startCommand removed - set per-service in Railway dashboard
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

